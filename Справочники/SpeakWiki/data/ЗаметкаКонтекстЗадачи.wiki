++ Заметка Контекст Задачи

Оператор пока без КонтекстЗадачи.

КонтекстЗадачи в ОС - заключен внутри приложения, внутри процесса приложения, окна приложения
Например, в командном интерпретаторе для каждого приложения следует выделять собственное окно.
 Оно и содержит весь текущий контекст.
На уровне ОС контекст - это весь набор запущенных процессов, состояние клипборда и подобных разделяемых ресурсов.

А вот как организовать Контекст в Операторе - зависит от устройства Оператора.


КонтекстЗадачи - это штука, общая для всех процессов в Операторе, всех его модулей.
Его можно организовать как словарь неймспейсов (частей контекста, имен модулей Оператора, подсистем Оператора).
в котором хранятся словари данных в формате ключ - значение (название - значение).

Это позволяет в одном объекте коллекции держать все данные о текущем контексте Оператора
- но надо еще уточнить общее устройство хранилища контекста и работу с ним.

Тогда можно будет устанавливать ТекущуюЗадачу и работать с ней, исполнять команды для нее.
Каждая команда должна иметь привязку к неймспейсу. 
Когда я ввожу команду, ее неймспейс извлекается из БД и применяется как ключ для извлечения из Хранилища Контекста.
Так я могу определить, что именно нужно делать по этой команде.
Это также не дает запустить две сходные задачи одновременно, и потом путаться, для какой задачи поступила команда.
- код должен выявлять что подобная задача уже начата и :
 А) не позволять запустить новую задачу
 Б) подерживать несколько параллельных задач из одного неймспейса.
- короче, надо управлять неймспейсам и контекстами задач.

Типичный сценарий использования контекстаЗадачи - последовательность команд линейной шкалы:
громкость плеера или яркость экрана:
>Сделай ярче
>Еще
>Еще
>Хватит/достаточно/Вот/Хорошо/так хорошо/пойдет

КонтекстЗадачи учитывается где-то между приемом команды с консоли и выбором подходящей процедуры, до выполнения процедуры команды.
- Надо это прописать в блок-схеме Оператора. А то сейчас у меня ее и нет совсем.

В Контексте есть НачалоПроцесса и КонецПроцесса.
(это уже работа на уровне множества процессов, как в ОС)
- как определить начало и конец каждого процесса?
А) Явно завершать процесс командой. (Требовать?)
Б) По таймауту от последней команды
В) По таймауту запрашивать завершение процесса
Г) Привязать НачалоПроцесса и/или КонецПроцесса к неким событиям. (Например старт или завершение процесса ОС)

С КонтекстЗадачи в Операторе можно поддерживать несколько процессов параллельно.
То есть несколько задач одновременно делать через Оператор.
И завершать их, не забывая про них.
- а каксохранять состояние КонтекстЗадачи при засыпании/выключении компьютера?
  - а это нужно?
  - сохранить данные КонтекстЗадачи в файл, если процесс можно восстановить при включении компьютера.
  - при включении компьютера надо еще восстановить сохраненный ранее КонтекстЗадачи.



