++ Диалоги Процедур Оператора

Сейчас диалог непрерывный.
Как сделать диалог прерываемым, чтобы его заморозить, а потом к нему можно было вернуться в произвольное время?

Например, я создаю Место. Надо указать для него класс, и для этого мне надо прервать диалог и ввести новую команду Показать классы мест, показать свойства класса места Каталог, итп. Долго в общем, выбирать класс места. А потом этот класс места вписать в первую процедуру и таким образом далее продолжить создание Места.

А еще, в этот момент может случиться событие, и мне надо отложить диалог процедуры вообще в каком-то неудобном месте.
Сейчас я просто должен его отменить, и потерять всю сделанную работу.
А мне надо сохранить его, заморозить.

У меня есть теоретический материал на эту тему, но я не знаю, как его реализовать. Особенно, для процедуры. Я ее пишу наспех, а тут надо каждый шаг сохранять в каком-то файле состояния задания, или в скрипте чек-листа пунктов задачи.
Тогда, если вводить скрипт пунктов задачи, вся процедура получается чем-то... Да, получается удобно ее реализовать, проектировать, запускать, исполнять, откладывать, возобновлять - именно в виде скрипта, исполняемого интерпретатором. И в скрипте же сохранять состояние задачи - или в файле задания...

Ну, в общем, идея, как это сделать, есть - но она сложная. Пока проще вот доводить до конца или отменять процедуры.

А вообще, хорошо бы иметь многозадачное исполнение команд Оператором. Чтобы вот такие вложенные команды давать и результаты получать. Но тут есть проблема - надо сделать перерыв, а у меня куча начатых задач в хрен пойми каком состоянии висит. Все их завершать отменой - опасно - я уж забыл, что в них делал. Доделывать их - долго, надо убегать уже. Вот тут возможность приостановить все задачи, записав их состояние в файлы - лучшая штука!