++ Запросы Поиска К Оператору И Классы

Запросы поиска к Оператору

(тут проблема в том, что Оператор не знает контекст проблемы, так как в ней не участвует. Поэтому он не знает, что за метла и зачем она требуется. Надо явно указывать "Найди предмет Метла", но сейчас разбираем более интересный вариант)

-> Найди метлу

<- Что такое "метлу"? Это "метла"?
("метлу" нет в локальном кеше названий сущностей. Выполняется поиск класса и первичной формы слова по БД Вордс. Выражение приводится к первичной форме. )
(Выражение может быть словосочетанием, тогда сложнее получается.)

(Если слова нет в БД словоформ, то его надо туда добавить, придется ввести 12 словоформ для существительных. Это долго. А для словосочетаний это и вовсе пока непонятно, как реализовать. Проще заявить "Я не знаю этого слова".)

-> Да

("Метла" это существительное, нужно определить класс Сущности)
("Метла" нет в локальном кеше классов сущностей)

<- "Метла" это предмет, книга, журнал, документ, радиодеталь?

(тут перечисляются корневые классы Хранилищ, к которым подключен Оператор.)

-> Это предмет.

(Значит, Оператор ищет в Инвентарь - там хранятся сведения о предметах.)
(В локальный кеш классов сущностей Оператора записывается, что Метла это Предмет. Теперь метла является частью контекста работы Оператора, и он последующие слова "метла" уже будет трактовать как "предмет метла".)

<- Ищу предмет "метла" в Инвентарь...
<- Предмет "Метла" не найден

--------------------------------------------------------------
Это то же что и обычный поиск, только тут задаются уточняющие вопросы, и потом ищется только требуемого класса, а не все подряд.
- тут главное, чего сейчас нет - иерархия классов Сущностей, а ее хранить негде пока.
- Это все нужно организовать как набор серверов или как набор локальных БД и dll, включенных в процесс Оператора?
- Тут еще и БД пополняется свойствами, последующий повторный поиск получится быстрее, наверно.
- можно ли разработку этой системы штук вести в UML диаграммере?
- как это соотносится с моим общим планом-цепочкой проектов СИМ?
--------------------------------------------------------------
Локальный кеш названий сущностей это такая небольшая таблица БД Оператора. В ней он хранит такие вот сущности из диалогов. Это позволяет быстро определить свойства запроса. Этоткеш знаний позволяет Оператору иметь контекст работы и накапливать опыт. И заодно пополнять общую Базу знаний, словоформами и классами сущностей.
Такой локальный кеш можно реализовать как RDF-файл или как Тапп.
Или как таблицЫ БД. Таблица Сущность-класс и таблица Слово-словоформы, включающая класс слова, чтобы отличать существительные от наречий, итп, и вообще, распознавать словосочетания.

Выводы:
1. Нужен Вордс как БД словоформ, чтобы получать классы слов и первичные формы слов по их словоформам. Хотя бы для часто употребляемых Существительных на первое время.

2. Нужен доступ Оператора к Хранилищам и Инвентарь, чтобы было где искать.

3. Нужен компьютер, на котором все эти данные помещаются, и он постоянно готов к работе с запросами пользователя, или находится в спящем режиме.

4. Нужен локальный кеш Оператора, чтобы хранить в нем: Склоняемая форма-Первичная форма-класс слова и Сущность-класс Сущности.
- можно ли реализовать его через Тапп? 

5. Нужна общая иерархия классов Сущностей. Ее пока совсем нет. Ее также надо где-то хранить, получать доступ к ней из Оператора, ссылаться на нее из других Хранилищ и приложний. 
- И в нее тоже надо уметь добавлять классы, запрашивая их через Оператор.
- можно ли реализовать ее через Тапп? 

----------------------------------------------------------
После того, как я составил диаграммы для Оператора packages, lifeline, classes, обнаружилось, что:
1. Вся изложенная здесь последовательность отрывочно-кусочная, а не цельный алгоритм. Это еще надо дорабатывать до цельного алгоритма.
2. Это можно свести к определению класса запрашиваемой сущности, чтобы затем вызвать одну из более специализированных процедур: Найти предмет Х или Найти файл Х или Найти документ Х или найти радиодеталь Х.
3. Оказалось, что этот диаграммер не добавляет функции в классы, он только диаграммер. Из диаграммы lifeline вызовы не превращаются в функции классов никак. Их надо добавлять в классы вручную. 
4. Нужен еще движок анализа словосочетаний. Обычно это Существительное  + 0 и более Прилагательных.
Примеры: Метла, сорговый веник, кухонный прибор, красный мяч.
Словосочетания надо либо хранить с их словоформами - склонениями, что неправильно. Либо приводить в нормальную форму и вообще, согласовывать.
Нужен движок, который будет:
- согласовывать словосочетание, образуя первичную форму из склоненных словоформ.
- выделять существительное, так как оно определяет класс Сущности, описываемой словосочетанием.